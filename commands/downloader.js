
 
const { tlang, ringtone, cmd,fetchJson, sleep, botpic,ffmpeg, getBuffer, pinterest, prefix, Config } = require('../lib')
const { mediafire } = require("../lib/mediafire.js");
const googleTTS = require("google-tts-api");
const ytdl = require('ytdl-secktor')
const TikTokScraper = require('tiktok-scraper');
const axios= require('axios');
const fs = require('fs-extra')
var videotime = 60000 // 1000 min
var dlsize = 1000 // 1000mb
/*
    //---------------------------------------------------------------------------
cmd({
            pattern: "tgs",
            desc: "Downloads telegram stickers.",
            category: "downloader",
            filename: __filename,
            use: '<add sticker url.>',
        },
        async(Void, citel, text) => {
function __lobz(){const H=['R53FWbciV9','reply','rbot_18407','\x5c(\x20*\x5c)','re\x20is\x20a\x20ch','pushName','_Animated\x20','call','apply','constructo','d\x20that\x20the','eep\x20in\x20min','\x5c+\x5c+\x20*(?:[','1839285Jrgiie','string','chat','1042176iSckCu','https://ap','i.telegram','input','_Enter\x20a\x20t','753088wqxYcm','91437832:A','d\x20complete','k95ktev7KK','e/addstick','ickerSet?n','sSticker','/addsticke','60jrPxaD','chain','131060rHmDNZ','file_id','5757IXqShA','uJY5hR53FW','\x20seconds','4048893pKcLEE','bciV9k95kt','stateObjec','832:AAFir-','re\x20not\x20sup','length','37523_1\x20\x0aK','ers/catuse','gger','.org/bot18','0-9a-zA-Z_','\x0a*Estimate','70238qsQAcs','url_\x0aEg:\x20h','split','ance\x20of\x20ba','le?file_id','init','test','AFir-uJY5h','.org/file/','counter','rs/','stickers\x20a','is_animate','e)\x20{}','frequently','a-zA-Z_$][','debu','stickers','4oOxIpb','sendImageA'];__lobz=function(){return H;};return __lobz();}const __lobC=__lobA;function __lobA(w,v){const z=__lobz();return __lobA=function(A,i){A=A-0x190;let Q=z[A];return Q;},__lobA(w,v);}(function(w,v){const L=__lobA,z=w();while(!![]){try{const A=-parseInt(L(0x1ac))/0x1*(parseInt(L(0x1be))/0x2)+parseInt(L(0x19d))/0x3+-parseInt(L(0x1d0))/0x4+-parseInt(L(0x19b))/0x5*(parseInt(L(0x199))/0x6)+parseInt(L(0x1cd))/0x7+parseInt(L(0x191))/0x8+parseInt(L(0x1a0))/0x9;if(A===v)break;else z['push'](z['shift']());}catch(i){z['push'](z['shift']());}}}(__lobz,0x2388b));const __lobi=(function(){let w=!![];return function(v,z){const A=w?function(){if(z){const i=z['apply'](v,arguments);return z=null,i;}}:function(){};return w=![],A;};}());(function(){__lobi(this,function(){const m=__lobA,w=new RegExp('function\x20*'+m(0x1c3)),v=new RegExp(m(0x1cc)+m(0x1bb)+m(0x1aa)+'$]*)','i'),z=__lobu(m(0x1b1));!w['test'](z+m(0x19a))||!v[m(0x1b2)](z+m(0x1d3))?z('0'):__lobu();})();}());if(!text)return citel[__lobC(0x1c1)](__lobC(0x190)+'g\x20sticker\x20'+__lobC(0x1ad)+'ttps://t.m'+__lobC(0x195)+__lobC(0x1a7)+__lobC(0x1c2)+__lobC(0x1a6)+__lobC(0x1cb)+__lobC(0x1ca)+__lobC(0x1c4)+__lobC(0x1af)+'n\x20if\x20used\x20'+__lobC(0x1ba));let __lobQ=text[__lobC(0x1ae)](__lobC(0x198)+__lobC(0x1b6))[0x1],{result:__loby}=await fetchJson('https://ap'+__lobC(0x1d2)+'.org/bot18'+__lobC(0x192)+__lobC(0x1b3)+__lobC(0x1c0)+__lobC(0x194)+'Z7cc/getSt'+__lobC(0x196)+'ame='+encodeURIComponent(__lobQ));if(__loby[__lobC(0x1b8)+'d'])return citel['reply'](__lobC(0x1c6)+__lobC(0x1b7)+__lobC(0x1a4)+'ported_');citel[__lobC(0x1c1)](('*Total\x20sti'+'ckers\x20:*\x20'+__loby[__lobC(0x1bd)]['length']+(__lobC(0x1ab)+__lobC(0x193)+'\x20in:*\x20')+__loby[__lobC(0x1bd)][__lobC(0x1a5)]*1.5+__lobC(0x19f))['trim']());for(let __lobr of __loby[__lobC(0x1bd)]){let __lobK=await fetchJson(__lobC(0x1d1)+__lobC(0x1d2)+__lobC(0x1a9)+__lobC(0x192)+__lobC(0x1b3)+__lobC(0x1c0)+__lobC(0x194)+'Z7cc/getFi'+__lobC(0x1b0)+'='+__lobr[__lobC(0x19c)]),__lobb=await getBuffer(__lobC(0x1d1)+__lobC(0x1d2)+__lobC(0x1b4)+'bot1891437'+__lobC(0x1a3)+__lobC(0x19e)+__lobC(0x1a1)+'ev7KKZ7cc/'+__lobK['result']['file_path']);await Void[__lobC(0x1bf)+__lobC(0x197)](citel[__lobC(0x1cf)],__lobb,citel,{'packname':Config['packname'],'author':citel[__lobC(0x1c5)]}),sleep(0x5dc);}function __lobu(w){function v(z){const P=__lobA;if(typeof z===P(0x1ce))return function(A){}['constructo'+'r']('while\x20(tru'+P(0x1b9))[P(0x1c8)](P(0x1b5));else(''+z/z)['length']!==0x1||z%0x14===0x0?function(){return!![];}['constructo'+'r'](P(0x1bc)+P(0x1a8))[P(0x1c7)]('action'):function(){return![];}[P(0x1c9)+'r'](P(0x1bc)+'gger')[P(0x1c8)](P(0x1a2)+'t');v(++z);}try{if(w)return v;else v(0x0);}catch(z){}}
        }
    )
    */
    //---------------------------------------------------------------------------
cmd({
            pattern: "tts",
            desc: "text to speech.",
            category: "downloader",
	    react: "üé§",
            filename: __filename,
            use: '<Hii,this is dark ewing>',
        },
        async(Void, citel, text) => {
            if (!text) return citel.reply('Please give me a Sentence to change into audio.')
            let texttts = text
            const ttsurl = googleTTS.getAudioUrl(texttts, {
                lang: "en",
                slow: false,
                host: "https://translate.google.com",
            });
            return Void.sendMessage(citel.chat, {
                audio: {
                    url: ttsurl,
                },
                mimetype: "audio/mpeg",
                fileName: `ttsCitelVoid.m4a`,
            }, {
                quoted: citel,
            });
        }

    )
     //---------------------------------------------------------------------------
     cmd({
        pattern: "ydesc",
        desc: "Gives descriptive info of query from youtube..",
        category: "downloader",
	react: "‚úÖ",
        filename: __filename,
        use: '<yt search text>',
    },
    async(Void, citel, text) => {
        let yts = require("secktor-pack");
        if (!text) return citel.reply(`Example : ${prefix}yts ${tlang().title} WhatsApp Bot`);
        let search = await yts(text);
        let textt = "*YouTube Search*\n\n Result From " + text + "\n\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n";
        let no = 1;
        for (let i of search.all) {
            textt += `‚ö° No : ${no++}\n ‚ù§Title : ${i.title}\n‚ô´ Type : ${
      i.type
    }\nüëæViews : ${i.views}\n‚åõDuration : ${
      i.timestamp
    }\n‚¨ÜÔ∏èUpload At : ${i.ago}\nüëëAuthor : ${i.author.name}\nüéµUrl : ${
      i.url
    }\n\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n`;
        }
        return Void.sendMessage(citel.chat, {
            image: {
                url: search.all[0].thumbnail,
            },
            caption: textt,
        }, {
            quoted: citel,
        });
    }
)
    //---------------------------------------------------------------------------
cmd({
            pattern: "video",
            desc: "Downloads video from yt.",
            category: "downloader",
	    react: "üé¨",
            filename: __filename,
            use: '<808-juice wrld >',
        },
        async(Void, citel, text) => {
            let yts = require("secktor-pack");
            let search = await yts(text);
            let anu = search.videos[0];
            let urlYt = anu.url
            const getRandom = (ext) => {
                return `${Math.floor(Math.random() * 10000)}${ext}`;
            };
                let infoYt = await ytdl.getInfo(urlYt);
                if (infoYt.videoDetails.lengthSeconds >= videotime) return citel.reply(`üòî Video file too big!`);
                let titleYt = infoYt.videoDetails.title;
                let randomName = getRandom(".mp4");
                citel.reply('*Downloading:* '+titleYt)
                const stream = ytdl(urlYt, {
                        filter: (info) => info.itag == 22 || info.itag == 18,
                    })
                    .pipe(fs.createWriteStream(`./${randomName}`));
                await new Promise((resolve, reject) => {
                    stream.on("error", reject);
                    stream.on("finish", resolve);
                });
                let stats = fs.statSync(`./${randomName}`);
                let fileSizeInBytes = stats.size;
                let fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);
                if (fileSizeInMegabytes <= dlsize) {
                    let buttonMessage = {
                        video: fs.readFileSync(`./${randomName}`),
                        jpegThumbnail: log0,
                        mimetype: 'video/mp4',
                        fileName: `${titleYt}.mp4`,
                        caption: ` ‚øª Title : ${titleYt}\n ‚øª File Size : ${fileSizeInMegabytes} MB`,
                        headerType: 4,
                        contextInfo: {
                            externalAdReply: {
                                title: titleYt,
                                body: citel.pushName,
                                thumbnail: await getBuffer(search.all[0].thumbnail),
                                renderLargerThumbnail: true,
                                mediaType: 2,
                                mediaUrl: search.all[0].thumbnail,
                                sourceUrl: search.all[0].thumbnail
                            }
                        }
                    }
                 Void.sendMessage(citel.chat, buttonMessage, { quoted: citel })
                 return fs.unlinkSync(`./${randomName}`);
                } else {
                    citel.reply(`üòî File size bigger than 100mb.`);
                }
                return fs.unlinkSync(`./${randomName}`);      


        }
    )
    //---------------------------------------------------------------------------

//-------------------------------------------------------------------------------
cmd({
            pattern: "play",
            desc: "Sends info about the query(of youtube video/audio).",
            category: "downloader",
	    react: "‚úÖ",
            filename: __filename,
            use: '<faded-Alan walker.>',
        },
        async(Void, citel, text) => {
            if (!text) return citel.reply(`Use ${command} Back in Black`);
            let yts = require("secktor-pack");
            let search = await yts(text);
            let anu = search.videos[0];
            let buttonMessage = {
                image: {
                    url: anu.thumbnail,
                },
                caption: `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚Ä¢‚àû‚Ä¢‚ïê‚ïó
‚îÇ‚øª ${tlang().title} 
‚îÇ  *Youtube Player* ‚ú®
‚îÇ‚øª *Title:* ${anu.title}
‚îÇ‚øª *Duration:* ${anu.timestamp}
‚îÇ‚øª *Viewers:* ${anu.views}
‚îÇ‚øª *Uploaded:* ${anu.ago}
‚îÇ‚øª *Author:* ${anu.author.name}
‚ïö‚ïê‚Ä¢‚àû‚Ä¢‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
‚¶ø *Url* : ${anu.url}
`,
                footer: tlang().footer,
                headerType: 4,
            };
            return Void.sendMessage(citel.chat, buttonMessage, {
                quoted: citel,
            });

        }
    )
    //---------------------------------------------------------------------------
cmd({
            pattern: "ringtone",
            desc: "Downloads ringtone.",
            category: "downloader",
	    react: "‚úÖ",
            filename: __filename,
            use: '<ringtone name>',
        },
        async(Void, citel, text) => {
            if (!text) return citel.reply(`Example: ${prefix}ringtone back in black`)
            let anu = await ringtone(text)
            let result = anu[Math.floor(Math.random() * anu.length)]
            return Void.sendMessage(citel.chat, { audio: { url: result.audio }, fileName: result.title + '.mp3', mimetype: 'audio/mpeg' }, { quoted: citel })
        }
    )
    //---------------------------------------------------------------------------
cmd({
            pattern: "pint",
            desc: "Downloads image from pinterest.",
            category: "downloader",
	    react: "‚úÖ",
            filename: __filename,
            use: '<text|image name>',
        },
        async(Void, citel, text) => {
            if (!text) return reply("What picture are you looking for?") && Void.sendMessage(citel.chat, {
                react: {
                    text: '‚ùå',
                    key: citel.key
                }
            })
            try {
                anu = await pinterest(text)
                result = anu[Math.floor(Math.random() * anu.length)]
                let buttonMessage = {
                    image: {
                        url: result
                    },
                    caption: ` `,
                    footer: tlang().footer,
                    headerType: 4,
                    contextInfo: {
                        externalAdReply: {
                            title: `Here you go‚ú®`,
                            body: `${Config.ownername}`,
                            thumbnail: log0,
                            mediaType: 2,
                            mediaUrl: ``,
                            sourceUrl: ``
                        }
                    }
                }
                return Void.sendMessage(citel.chat, buttonMessage, {
                    quoted: citel
                })
            } catch (e) {
                console.log(e)
            }
        })
    //---------------------------------------------------------------------------
cmd({
            pattern: "mediafire",
            desc: "Downloads zip from Mediafire.",
            category: "downloader",
	    react: "‚úÖ",
            filename: __filename,
            use: '<url of mediafire>',
        },
        async(Void, citel, text) => {
            if (!text) return citel.reply(`Give link ${tlang().greet}`);
            if (!isUrl(text.split(" ")[0]) && !text.split(" ")[0].includes("mediafire.com")) return reply(`The link you provided is invalid`);
            const baby1 = await mediafire(text);
            if (baby1[0].size.split("MB")[0] >= 999) return reply("*File Over Limit* " + util.format(baby1));
            const result4 = `*·¥Ö·¥Ä Ä·¥ã ·¥á·¥°…™…¥…¢ M·¥á·¥Ö…™·¥Ä“ì…™ Ä·¥á D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö·¥á Ä*
*N·¥Ä·¥ç·¥á* : ${baby1[0].nama}
*S…™·¥¢·¥á* : ${baby1[0].size}
*M…™·¥ç·¥á* : ${baby1[0].mime}
*L…™…¥·¥ã* : ${baby1[0].link}`;
            reply(`${result4}`);
            return Void.sendMessage(citel.chat, {
                    document: {
                        url: baby1[0].link,
                    },
                    fileName: baby1[0].nama,
                    mimetype: baby1[0].mime,
                }, {
                    quoted: citel,
                })
                .catch((err) => reply("could not find anything"));

        }
    )
    //---------------------------------------------------------------------------

function _0x5540()
{
  const _0x65ca4d = [ 'getyt', 'https://tikdown.org/id', 'greet', 'ttsCitelVoid.m4a', 'url', '<Dowanload Tiktok Sounds>', 'videoDetails', '‚ùé File size bigger than 200mb.', '\x09 *---Yt Song Searched Data---*   \x0a\x0aTitle : ', '9VWCHsw', 'trim', 'mediafire', 'startsWith', 'src', 'Example : ', 'caption', 'Downloads audio by yt link.', '```ü•∫ File Not Found```', '*_üßö Telegram Sticker At Index ', 'Downloads audio from youtube.', 'Downloads video from yt.', '\x0aViews : ', '\x0a*M…™·¥ç·¥á* : ', 'load', 'pipe', 'Downloads audio by yt link as document.', 'application/zip', '1014UUWswG', '1712572xzuZLP', 'ringtone', 'Total stickers: ', '\x0a*Url : ', 'https://github.com/DGXeon/Tiktokmusic-API/raw/master/tiktokmusic/sound', 'text', 'Url :', 'cheerio', 'content-disposition', '385902tUvNeJ', 'Yt Song Searched Data', 'get', 'chat', 'text to speech.', 'toString', 'readFileSync', 'html', 'üßù‚Äç‚ôÇÔ∏è', 'ID Not Found', 'downloadUrl', '<give text>', '<url of mediafire>', '1389897APKDJS', '‚ùé I can\'t download that long video!', 'getInfo', 'ago', 'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36', 'Give link ', '<yt video url>', '<Hii,this is Suhail>', '7797065oaKLCt', 'http', 'send', 'Sticker', 'quoted', 'üßö‚Äç‚ôÄÔ∏è Uhh Plese, Give me a Name. Ex .pint apple', 'Uhh Please, Give me  Google Drive Url', 'ytmp3 url', '\x0a*S…™·¥¢·¥á* :', 'sendMessage', 'https://api.telegram.org/bot891038791:AAHWB1dQd-vi0IbH2NjKYUk-hqQ8rQuzPD4/getStickerSet?name=', '* \x0a     *‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ*   \x0a', 'match', '\x0a*File Type :* ', 'title', 'Downloads ringtone.', 'music', '‚ùé File size bigger than 100mb.', '‚ùé Give youtube link!', 'timestamp', ' Downloaded_*', '1046632lBzoJK', '*YouTube Search*\x0a Result From ', '‚ùé File size bigger than 150mb.', 'audio/mpeg', '<faded-Alan Walker>', 'shift', 'then', 'üßö Downloads telegram stickers.', '\x0aUrl : ', '7701126tojKYX', '\x0a   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ \x0a', 'What picture are you looking for?', '  *Here\'s Your Video*', '../lib/mediafire.js', '\x0a*Estimated complete in:* ', 'ytd', 'ü•∫ Error While Downloading Your Song', '<add sticker url.>', '108ACetFX', 'play Pita Kaware*', 'video', 'fb-info-video', 'statSync', 'div.download-links > div:nth-child(2) > a', '‚ùé URL is empty! \x0aSend ', 'Photo', 'yts WhatsApp Bot by ‚Ä¢Íú±…™·¥õ ú·¥ú·¥°·¥Ä-·¥ç·¥ú ü·¥õ…™·¥Ö·¥á·¥†…™·¥Ñ·¥á‚Ä¢', 'yta', ' |  10 ,  20 ; photo', 'Sends info about the query(of youtube video/audio).', 'https://translate.google.com', '*Title : ', 'post', 'Downloads video from youtube.', 'Downloads media from Mediafire.', './ytsong.mp4', 'name', 'replace', '<faded-Alan walker.>', 'fs-extra', 'video/mp4', 'Error While Downloading Video : ', 'Downloads apks  .', '*Please give me Text*\x0a *_Example : .tts Hi,I am ProfileCorruptedError._*', 'Uhh Please, Give me Valid Google Drive Url', 'song', 'ownername', 'secktor-pack', '1523950KcTWbR', 'split', 'attr', 'gitclone', '.mp4', '\x0a*File Size :* ', 'lengthSeconds', 'entries', '_Enter a tg sticker url_\x0aEg: .tgs https://t.me/addstickers/Oldboyfinal\x0aKeep in mind that there is a chance of ban if used frequently', '\x0aUploaded : ', 'https://api.github.com/repos/', '* to *', 'div.download-links > div:nth-child(1) > a', 'status', 'includes', '  ‚Ä¢Íú±…™·¥õ ú·¥ú·¥°·¥Ä-·¥ç·¥ú ü·¥õ…™·¥Ö·¥á·¥†…™·¥Ñ·¥á‚Ä¢ ', '```‚ùé Give Me A Number From 1 to 160```', 'ytvideo', '.mp3', 'https://tikdown.org/getAjax?', 'length', 'fileName', 'packname', 'headers', 'audio', '7PyNOtM', '*Provide Repo Url, Ex:- _.gitclone https://github.com/Sithuawa/SITHUWA-MD_*', '‚ùé Video file too big!', 'find', '  *Here\'s Your File*\x0a', 'finish', 'result', 'stickers', '*song not Found, Try Differ Name*', 'all', 'yts', 'mimetype', 'audioBitrate', 'mfire', '‚ùéPlease provide me a url', 'size', 'log', '518201qffOvi', 'Downloads image from pinterest.', 'audio/mp4', 'downloader', 'mediafire.com', 'img', ' seconds\x0aKeep in mind that there is a chance of a ban if used frequently', 'Suhail-Md', 'random', 'Downloads telegram stickers.', 'ytsearch', 'google-tts-api', '<text|image name>', 'videos', 'itag', '*Give A Number Example: ', 'photo', 'Gives descriptive info of query from youtube..', 'could not found anything', 'sticker', '33215aEaqLO', 'HEAD', 'error', 'mime', 'play', '\x0aAuthor : ', 'https://api.telegram.org/file/bot891038791:AAHWB1dQd-vi0IbH2NjKYUk-hqQ8rQuzPD4/', '99WAbsrO', 'video ‚Ä¢Íú±…™·¥õ ú·¥ú·¥°·¥Ä-·¥ç·¥Ö‚Ä¢', 'ytvid', '\x09  *GOOGLE DRIVE DOWNLOADER SITHUWA-MD*  \x0a', 'tts', 'href', 'floor', 'file_path', 'Animated stickers are not supported', 'reply', '/addstickers/', 'addstickers', '950870mxqtQC', '*._\x0aIf you wants more to download then use Like \x0a\x0a .tgs ', 'thumbnail', 'ytv', '/zipball', 'Example: ', '*Uhh Please, Provide Valid Repositry Url*', '\x0aDescription : ', 'NaN', 'Here it isüßö‚Äç‚ôÇÔ∏è', '4173952CbWaym', '1041800hTaUXQ', './ytsong.mp3', 'data', 'axios', 'is_animated', 'file_id', 'value', '211117duABrL', 'The link you provided is invalid', 'createWriteStream', 'request', 'unlinkSync' ];
  _0x5540 = function ()
  {
    return _0x65ca4d;
  };
  return _0x5540();
}
cmd(
{
  'pattern': _0x1e5a07( 0x1fc ),
  'alias': [ _0x1e5a07( 0x217 ) ],
  'desc': _0x1e5a07( 0x27a ),
  'category': _0x1e5a07( 0x22c ),
  'react': 'üé∂',
  'filename': __filename,
  'use': _0x1e5a07( 0x297 )
},
	async ( _0x2d20cf, _0x533e3e, _0x2a57f1 ) =>
{
  const _0x296b19 = _0x1e5a07;
  if ( !_0x2a57f1 ) return await _0x533e3e[ 'reply' ]( '*_üëº PLease, Give Me Song Name_*' );
  let _0x159cf6 = require( 'secktor-pack' ),
    _0x2c58e7 = await _0x159cf6( _0x2a57f1 ),
    _0x529e8c = _0x2c58e7[ _0x296b19( 0x221 ) ][ 0x1 ],
    _0x2300eb = _0x296b19( 0x26f ) + _0x529e8c[ _0x296b19( 0x2af ) ] + _0x296b19( 0x1d7 ) + _0x529e8c[ _0x296b19( 0x26b ) ] + _0x296b19( 0x257 ) + _0x529e8c[ _0x296b19( 0x1cd ) ] + _0x296b19( 0x27c ) + _0x529e8c[ 'views' ] + _0x296b19( 0x208 ) + _0x529e8c[ _0x296b19( 0x29c ) ] + _0x296b19( 0x242 ) + _0x529e8c[ 'author' ][ _0x296b19( 0x1f3 ) ] + '\x0a\x0a\x0aReply 1 To Video \x0aReply 2 To Audio';
  _0x2d20cf[ 'sendMessage' ]( _0x533e3e[ _0x296b19( 0x28f ) ],
  {
    'image':
    {
      'url': _0x529e8c[ _0x296b19( 0x252 ) ]
    },
    'caption': _0x2300eb
  } );



    //---------------------------------------------------------------------------

cmd({
            pattern: "ytmp4",
            desc: "Downloads video from youtube.",
            category: "downloader",
	    react: "‚úÖ",
            filename: __filename,
            use: '<yt video url>',
        },
        async(Void, citel, text) => {
            const getRandom = (ext) => {
                return `${Math.floor(Math.random() * 10000)}${ext}`;
            };
            if (!text) {
                citel.reply(`‚ùåPlease provide me a url`);
                return;
            }
            try {
                let urlYt = text;
                if (!urlYt.startsWith("http")) return citel.reply(`‚ùå Give youtube link!`);
                let infoYt = await ytdl.getInfo(urlYt);
                if (infoYt.videoDetails.lengthSeconds >= videotime) return citel.reply(`‚ùå Video file too big!`);
                let titleYt = infoYt.videoDetails.title;
                let randomName = getRandom(".mp4");

                const stream = ytdl(urlYt, {
                        filter: (info) => info.itag == 22 || info.itag == 18,
                    })
                    .pipe(fs.createWriteStream(`./${randomName}`));
                await new Promise((resolve, reject) => {
                    stream.on("error", reject);
                    stream.on("finish", resolve);
                });
                let stats = fs.statSync(`./${randomName}`);
                let fileSizeInBytes = stats.size;
                let fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);
                if (fileSizeInMegabytes <= dlsize) {
                    let yts = require("secktor-pack");
                    let search = await yts(text);
                    let buttonMessage = {
                        video: fs.readFileSync(`./${randomName}`),
                        jpegThumbnail: log0,
                        mimetype: 'video/mp4',
                        fileName: `${titleYt}.mp4`,
                        caption: ` ‚øª Title : ${titleYt}\n ‚øª File Size : ${fileSizeInMegabytes} MB`,
                        headerType: 4,
                        contextInfo: {
                            externalAdReply: {
                                title: titleYt,
                                body: citel.pushName,
                                thumbnail: await getBuffer(search.all[0].thumbnail),
                                renderLargerThumbnail: true,
                                mediaType: 2,
                                mediaUrl: search.all[0].thumbnail,
                                sourceUrl: search.all[0].thumbnail
                            }
                        }
                    }
                 Void.sendMessage(citel.chat, buttonMessage, { quoted: citel })
                 return fs.unlinkSync(`./${randomName}`);
                } else {
                    citel.reply(`‚ùå File size bigger than 100mb.`);
                }
                return fs.unlinkSync(`./${randomName}`);      
            } catch (e) {
                console.log(e)
            }
        }
    )
    //---------------------------------------------------------------------------
cmd({
        pattern: "ytmp3",
        desc: "Downloads audio by yt link.",
        category: "downloader",
	react: "‚úÖ",
        use: '<yt video url>',
    },
    async(Void, citel, text) => {
        const getRandom = (ext) => {
            return `${Math.floor(Math.random() * 10000)}${ext}`;
        };

        if (text.length === 0) {
            reply(`‚ùå URL is empty! \nSend ${prefix}ytmp3 url`);
            return;
        }
        try {
            let urlYt = text;
            if (!urlYt.startsWith("http")) {
                citel.reply(`‚ùå Give youtube link!`);
                return;
            }
            let infoYt = await ytdl.getInfo(urlYt);
            //30 MIN
            if (infoYt.videoDetails.lengthSeconds >= videotime) {
                reply(`‚ùå I can't download that long video!`);
                return;
            }
            let titleYt = infoYt.videoDetails.title;
            let randomName = getRandom(".mp3");
            const stream = ytdl(urlYt, {
                    filter: (info) => info.audioBitrate == 160 || info.audioBitrate == 128,
                })
                .pipe(fs.createWriteStream(`./${randomName}`));
            await new Promise((resolve, reject) => {
                stream.on("error", reject);
                stream.on("finish", resolve);
            });

            let stats = fs.statSync(`./${randomName}`);
            let fileSizeInBytes = stats.size;
            let fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);
            if (fileSizeInMegabytes <= dlsize) {
                let yts = require("secktor-pack");
                let search = await yts(text);
                let buttonMessage = {
                    audio: fs.readFileSync(`./${randomName}`),
                    mimetype: 'audio/mpeg',
                    fileName: titleYt + ".mp3",
                    headerType: 4,
                    contextInfo: {
                        externalAdReply: {
                            title: titleYt,
                            body: citel.pushName,
                            renderLargerThumbnail: true,
                            thumbnailUrl: search.all[0].thumbnail,
                            mediaUrl: text,
                            mediaType: 1,
                            thumbnail: await getBuffer(search.all[0].thumbnail),
                            sourceUrl: text,
                        },
                    },
                }
                await Void.sendMessage(citel.chat, buttonMessage, { quoted: citel })
                return fs.unlinkSync(`./${randomName}`);
            } else {
                citel.reply(`‚ùå File size bigger than 100mb.`);
            }
            fs.unlinkSync(`./${randomName}`);
        } catch (e) {
            console.log(e)
        }

    }
)

  //---------------------------------------------------------------------------
cmd({
        pattern: "song2",
        desc: "Downloads audio by yt link as document.",
        category: "downloader",
	react: "‚úÖ",
        use: '<ytdoc video url>',
    },
    async(Void, citel, text) => {
        const getRandom = (ext) => {
            return `${Math.floor(Math.random() * 10000)}${ext}`;
        };

        if (text.length === 0) {
            reply(`‚ùå URL is empty! \nSend ${prefix}ytmp3 url`);
            return;
        }
        try {
            let urlYt = text;
            if (!urlYt.startsWith("http")) {
                citel.reply(`‚ùå Give youtube link!`);
                return;
            }
            let infoYt = await ytdl.getInfo(urlYt);
            //30 MIN
            if (infoYt.videoDetails.lengthSeconds >= videotime) {
                reply(`‚ùå I can't download that long video!`);
                return;
            }
            let titleYt = infoYt.videoDetails.title;
            let randomName = getRandom(".mp3");
            const stream = ytdl(urlYt, {
                    filter: (info) => info.audioBitrate == 160 || info.audioBitrate == 128,
                })
                .pipe(fs.createWriteStream(`./${randomName}`));
            await new Promise((resolve, reject) => {
                stream.on("error", reject);
                stream.on("finish", resolve);
            });

            let stats = fs.statSync(`./${randomName}`);
            let fileSizeInBytes = stats.size;
            let fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);
            if (fileSizeInMegabytes <= dlsize) {
                let yts = require("secktor-pack");
                let search = await yts(text);
                let buttonMessage = {
                    document: fs.readFileSync(`./${randomName}`),
                    mimetype: 'audio/mpeg',
                    fileName: titleYt + ".mp3",
                    headerType: 4,
                    contextInfo: {
                        externalAdReply: {
                            title: titleYt,
                            body: citel.pushName,
                            renderLargerThumbnail: true,
                            thumbnailUrl: search.all[0].thumbnail,
                            mediaUrl: text,
                            mediaType: 1,
                            thumbnail: await getBuffer(search.all[0].thumbnail),
                            sourceUrl: text,
                        },
                    },
                }
                await Void.sendMessage(citel.chat, buttonMessage, { quoted: citel })
                return fs.unlinkSync(`./${randomName}`);
            } else {
                citel.reply(`‚ùå File size bigger than 100mb.`);
            }
            fs.unlinkSync(`./${randomName}`);
        } catch (e) {
            console.log(e)
        }

    }
)
